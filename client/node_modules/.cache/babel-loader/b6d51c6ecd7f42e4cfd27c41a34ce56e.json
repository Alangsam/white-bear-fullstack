{"ast":null,"code":"var _jsxFileName = \"/Users/alex/punchcode/white-bear-fullstack/client/src/components/pages/Edit.js\";\nimport React from \"react\";\nimport saveLogo from \"../../icons/save.svg\";\nimport AppTemplate from \"../ui/AppTemplate\";\nimport { Link } from \"react-router-dom\";\nimport toDisplayableDate from \"date-fns/format\";\nimport classnames from \"classnames\";\nimport { checkStringAgainstNumber, MAX_CARD_CHARACTERS } from \"../../utils/helpers\";\nimport { connect } from \"react-redux\";\nimport actions from \"../../store/actions\";\nimport isEmpty from \"lodash/isEmpty\";\nimport without from \"lodash/without\";\n\nclass Edit extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      cardData: [],\n      imageryEntered: [],\n      answerEntered: []\n    };\n  }\n\n  componentDidMount() {\n    try {\n      const memoryCard = this.props.editableCard.card;\n      this.setState({\n        cardData: memoryCard,\n        imageryEntered: memoryCard.imagery,\n        answerEntered: memoryCard.answer\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  setImageryState(e) {\n    this.setState({\n      imageryEntered: e.target.value\n    });\n  }\n\n  setAnswerState(e) {\n    this.setState({\n      answerEntered: e.target.value\n    });\n  }\n\n  enableOrDisableSave() {\n    if (checkStringAgainstNumber(this.state.imageryEntered, MAX_CARD_CHARACTERS) === false && checkStringAgainstNumber(this.state.answerEntered, MAX_CARD_CHARACTERS) === false && this.state.imageryEntered.length > 0 && this.state.answerEntered.length > 0) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  showDeleteButton() {\n    if (document.getElementById(\"delete-button\").style.display === \"\") {\n      document.getElementById(\"delete-button\").style.display = \"none\";\n    } else {\n      document.getElementById(\"delete-button\").style.display = \"\";\n    }\n  }\n\n  deleteCard() {\n    if (this.props.editableCard.previousRoute === \"/review-answer\") {\n      this.deleteCardFromQueue();\n    } else if (this.props.editableCard.previousRoute === \"/all-cards\") {\n      this.props.history.push(\"/all-cards\");\n    }\n  }\n\n  deleteCardFromQueue() {\n    const deletedCard = this.props.editableCard.card;\n    const cards = this.props.queue.cards;\n    const filteredCards = without(cards, deletedCard);\n    this.props.dispatch({\n      type: actions.STORE_QUEUED_CARDS,\n      payload: filteredCards\n    });\n\n    if (filteredCards[this.props.queue.index] === undefined) {\n      this.props.history.push(\"/review-empty\");\n    } else {\n      this.props.history.push(\"/review-imagery\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(AppTemplate, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"text-center pt-2 mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, \"Edit card\"), isEmpty(this.props.editableCard) === false && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \" mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card bg-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"addanswertext\",\n      className: \"w-100\",\n      rows: \"9\",\n      value: this.state.imageryEntered,\n      onChange: async e => {\n        this.setImageryState(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 28\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card bg-secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"editimage\",\n      className: \"w-100\",\n      rows: \"5\",\n      value: this.state.answerEntered,\n      onChange: async e => {\n        this.setAnswerState(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 31\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      id: \"textcountright\",\n      className: \"float-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      id: \"imagery-span\",\n      className: classnames({\n        \"text-danger\": checkStringAgainstNumber(this.state.imageryEntered, MAX_CARD_CHARACTERS)\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, \"Top: \", this.state.imageryEntered.length, \"/\", MAX_CARD_CHARACTERS)), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"textcountleft\",\n      className: \"float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: classnames({\n        \"text-danger\": checkStringAgainstNumber(this.state.answerEntered, MAX_CARD_CHARACTERS)\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }, \"Bottom: \", this.state.answerEntered.length, \"/\", MAX_CARD_CHARACTERS))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clearfix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: this.props.editableCard.previousRoute,\n      id: \"discard-the-changes\",\n      className: \"btn btn-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 22\n      }\n    }, \"Discard changes\"), /*#__PURE__*/React.createElement(Link, {\n      to: this.props.editableCard.previousRoute,\n      id: \"button-to-save-changes\",\n      className: classnames(\"float-right btn btn-secondary\", {\n        disabled: this.enableOrDisableSave()\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: saveLogo,\n      className: \"\",\n      style: {\n        width: \"22px\"\n      },\n      alt: \"save-logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 28\n      }\n    }), \"Save\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clearfix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" text-center pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 22\n      }\n    }, \"Card properties\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"properties\",\n      className: \"col-4 d-inline-block text-nowrap pl-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      id: \"created-on\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 25\n      }\n    }, \"Created on:\"), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"last-attempt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 25\n      }\n    }, \"Last attempt:\"), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"Next-attempt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 25\n      }\n    }, \"Next attempt:\"), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"consecutives\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 25\n      }\n    }, \"Consecutives:\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 d-inline-block \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 25\n      }\n    }, toDisplayableDate(this.props.editableCard.card.createdAt, \"MMM. d, yyyy\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 25\n      }\n    }, toDisplayableDate(this.props.editableCard.card.lastAttemptAt, \"MMM. d, yyyy\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 25\n      }\n    }, toDisplayableDate(this.props.editableCard.card.nextAttemptAt, \"MMM. d, yyyy\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 25\n      }\n    }, this.props.editableCard.card.totalSuccessfulAttempts))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clearfix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" pt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"delete-check\",\n      className: \"custom-checkbox mr-2\",\n      type: \"checkbox\",\n      style: {\n        width: \"16px\",\n        height: \"16px\"\n      },\n      onClick: () => {\n        this.showDeleteButton();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 22\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"align-middle\",\n      htmlFor: \"delete-check\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 22\n      }\n    }, \"Show delete button\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        this.deleteCard();\n      },\n      id: \"delete-button\",\n      className: \"btn btn-outline-danger\",\n      style: {\n        display: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 22\n      }\n    }, \"Delete this card\"))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    editableCard: state.editableCard,\n    queue: state.queue\n  };\n}\n\nexport default connect(mapStateToProps)(Edit);","map":{"version":3,"sources":["/Users/alex/punchcode/white-bear-fullstack/client/src/components/pages/Edit.js"],"names":["React","AppTemplate","Link","toDisplayableDate","classnames","checkStringAgainstNumber","MAX_CARD_CHARACTERS","connect","actions","isEmpty","without","Edit","Component","constructor","state","cardData","imageryEntered","answerEntered","componentDidMount","memoryCard","props","editableCard","card","setState","imagery","answer","error","console","log","setImageryState","e","target","value","setAnswerState","enableOrDisableSave","length","showDeleteButton","document","getElementById","style","display","deleteCard","previousRoute","deleteCardFromQueue","history","push","deletedCard","cards","queue","filteredCards","dispatch","type","STORE_QUEUED_CARDS","payload","index","undefined","render","disabled","saveLogo","width","createdAt","lastAttemptAt","nextAttemptAt","totalSuccessfulAttempts","height","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport saveLogo from \"../../icons/save.svg\";\nimport AppTemplate from \"../ui/AppTemplate\";\nimport { Link } from \"react-router-dom\";\nimport toDisplayableDate from \"date-fns/format\";\nimport classnames from \"classnames\";\nimport {\n   checkStringAgainstNumber,\n   MAX_CARD_CHARACTERS,\n} from \"../../utils/helpers\";\nimport { connect } from \"react-redux\";\nimport actions from \"../../store/actions\";\nimport isEmpty from \"lodash/isEmpty\";\nimport without from \"lodash/without\";\n\nclass Edit extends React.Component {\n   constructor() {\n      super();\n      this.state = {\n         cardData: [],\n         imageryEntered: [],\n         answerEntered: [],\n      };\n   }\n\n   componentDidMount() {\n      try {\n         const memoryCard = this.props.editableCard.card;\n         this.setState({\n            cardData: memoryCard,\n            imageryEntered: memoryCard.imagery,\n            answerEntered: memoryCard.answer,\n         });\n      } catch (error) {\n         console.log(error);\n      }\n   }\n\n   setImageryState(e) {\n      this.setState({ imageryEntered: e.target.value });\n   }\n   setAnswerState(e) {\n      this.setState({ answerEntered: e.target.value });\n   }\n   enableOrDisableSave() {\n      if (\n         checkStringAgainstNumber(\n            this.state.imageryEntered,\n            MAX_CARD_CHARACTERS\n         ) === false &&\n         checkStringAgainstNumber(\n            this.state.answerEntered,\n            MAX_CARD_CHARACTERS\n         ) === false &&\n         this.state.imageryEntered.length > 0 &&\n         this.state.answerEntered.length > 0\n      ) {\n         return false;\n      } else {\n         return true;\n      }\n   }\n   showDeleteButton() {\n      if (document.getElementById(\"delete-button\").style.display === \"\") {\n         document.getElementById(\"delete-button\").style.display = \"none\";\n      } else {\n         document.getElementById(\"delete-button\").style.display = \"\";\n      }\n   }\n\n   deleteCard() {\n      if (this.props.editableCard.previousRoute === \"/review-answer\") {\n         this.deleteCardFromQueue();\n      } else if (this.props.editableCard.previousRoute === \"/all-cards\") {\n         this.props.history.push(\"/all-cards\");\n      }\n   }\n\n   deleteCardFromQueue() {\n      const deletedCard = this.props.editableCard.card;\n      const cards = this.props.queue.cards;\n      const filteredCards = without(cards, deletedCard);\n      this.props.dispatch({\n         type: actions.STORE_QUEUED_CARDS,\n         payload: filteredCards,\n      });\n      if (filteredCards[this.props.queue.index] === undefined) {\n         this.props.history.push(\"/review-empty\");\n      } else {\n         this.props.history.push(\"/review-imagery\");\n      }\n   }\n\n   render() {\n      return (\n         <AppTemplate>\n            <h4 className=\"text-center pt-2 mx-auto\">Edit card</h4>\n            {isEmpty(this.props.editableCard) === false && (\n               <div>\n                  <div className=\" mx-auto\">\n                     <div className=\"card bg-primary\">\n                        <form className=\"card-body\">\n                           <textarea\n                              id=\"addanswertext\"\n                              className=\"w-100\"\n                              rows=\"9\"\n                              value={this.state.imageryEntered}\n                              onChange={async (e) => {\n                                 this.setImageryState(e);\n                              }}\n                           ></textarea>\n                        </form>\n                     </div>\n                     <div className=\"card bg-secondary\">\n                        <div className=\"card-body\">\n                           <form>\n                              <textarea\n                                 id=\"editimage\"\n                                 className=\"w-100\"\n                                 rows=\"5\"\n                                 value={this.state.answerEntered}\n                                 onChange={async (e) => {\n                                    this.setAnswerState(e);\n                                 }}\n                              ></textarea>\n                           </form>\n                        </div>\n                     </div>\n                  </div>\n                  <div className=\"\">\n                     <p id=\"textcountright\" className=\"float-left\">\n                        <span\n                           id=\"imagery-span\"\n                           className={classnames({\n                              \"text-danger\": checkStringAgainstNumber(\n                                 this.state.imageryEntered,\n                                 MAX_CARD_CHARACTERS\n                              ),\n                           })}\n                        >\n                           Top: {this.state.imageryEntered.length}/\n                           {MAX_CARD_CHARACTERS}\n                        </span>\n                     </p>\n\n                     <p id=\"textcountleft\" className=\"float-right\">\n                        <span\n                           className={classnames({\n                              \"text-danger\": checkStringAgainstNumber(\n                                 this.state.answerEntered,\n                                 MAX_CARD_CHARACTERS\n                              ),\n                           })}\n                        >\n                           Bottom: {this.state.answerEntered.length}/\n                           {MAX_CARD_CHARACTERS}\n                        </span>\n                     </p>\n                  </div>\n                  <div className=\"clearfix\"></div>\n                  <div className=\"\">\n                     <Link\n                        to={this.props.editableCard.previousRoute}\n                        id=\"discard-the-changes\"\n                        className=\"btn btn-link\"\n                     >\n                        Discard changes\n                     </Link>\n                     <Link\n                        to={this.props.editableCard.previousRoute}\n                        id=\"button-to-save-changes\"\n                        className={classnames(\"float-right btn btn-secondary\", {\n                           disabled: this.enableOrDisableSave(),\n                        })}\n                     >\n                        <div className=\"\">\n                           <img\n                              src={saveLogo}\n                              className=\"\"\n                              style={{ width: \"22px\" }}\n                              alt=\"save-logo\"\n                           />\n                           Save\n                        </div>\n                     </Link>\n                  </div>\n                  <div className=\"clearfix\"></div>\n                  <div className=\" text-center pt-3\">\n                     <h4>Card properties</h4>\n                  </div>\n                  <div className=\"\">\n                     <div\n                        id=\"properties\"\n                        className=\"col-4 d-inline-block text-nowrap pl-0\"\n                     >\n                        <p id=\"created-on\">Created on:</p>\n                        <p id=\"last-attempt\">Last attempt:</p>\n                        <p id=\"Next-attempt\">Next attempt:</p>\n                        <p id=\"consecutives\">Consecutives:</p>\n                     </div>\n                     <div className=\"col-4 d-inline-block \">\n                        <p>\n                           {toDisplayableDate(\n                              this.props.editableCard.card.createdAt,\n                              \"MMM. d, yyyy\"\n                           )}\n                        </p>\n                        <p>\n                           {toDisplayableDate(\n                              this.props.editableCard.card.lastAttemptAt,\n                              \"MMM. d, yyyy\"\n                           )}\n                        </p>\n                        <p>\n                           {toDisplayableDate(\n                              this.props.editableCard.card.nextAttemptAt,\n                              \"MMM. d, yyyy\"\n                           )}\n                        </p>\n                        <p>\n                           {\n                              this.props.editableCard.card\n                                 .totalSuccessfulAttempts\n                           }\n                        </p>\n                     </div>\n                  </div>\n                  <div className=\"clearfix\"></div>\n                  <div className=\" pt-5\">\n                     <input\n                        id=\"delete-check\"\n                        className=\"custom-checkbox mr-2\"\n                        type=\"checkbox\"\n                        style={{ width: \"16px\", height: \"16px\" }}\n                        onClick={() => {\n                           this.showDeleteButton();\n                        }}\n                     />\n                     <label className=\"align-middle\" htmlFor=\"delete-check\">\n                        Show delete button\n                     </label>\n                  </div>\n                  <div className=\"pt-3\">\n                     <button\n                        onClick={() => {\n                           this.deleteCard();\n                        }}\n                        id=\"delete-button\"\n                        className=\"btn btn-outline-danger\"\n                        style={{ display: \"none\" }}\n                     >\n                        Delete this card\n                     </button>\n                  </div>\n               </div>\n            )}\n         </AppTemplate>\n      );\n   }\n}\n\nfunction mapStateToProps(state) {\n   return {\n      editableCard: state.editableCard,\n      queue: state.queue,\n   };\n}\n\nexport default connect(mapStateToProps)(Edit);\n"]},"metadata":{},"sourceType":"module"}